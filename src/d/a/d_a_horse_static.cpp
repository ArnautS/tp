//
// Generated By: dol2asm
// Translation Unit: d/a/d_a_horse_static
//

#include "d/a/d_a_horse_static.h"
#include "dol2asm.h"
#include "dolphin/types.h"

BOOL e_wb_class::checkWait() {
    return field_0x5b4 == 0x2A;
}

void e_wb_class::setPlayerRideNow() {
    field_0x690 = 0x67;
    field_0x5b4 = 0;
    field_0x6be |= 3;
}

void e_wb_class::setPlayerRide() {
    field_0x690 = 0x65;
    field_0x5b4 = 0;
    field_0x6be |= 3;

    mZ2Ride.setLinkRiding(true);
}

void e_wb_class::getOff() {
    if (!checkDownDamage() || field_0x690 == 0x67) {
        field_0x690 = 0;
    } else {
        field_0x692 = 0;
    }
    field_0x5b4 = 0;
    field_0x6be &= 0xfffc;
    mZ2Ride.setLinkRiding(false);
}

BOOL e_wb_class::checkDownDamage() {
    return field_0x690 != 0x65 && field_0x690 != 0x66 && field_0x690 != 0x15;
}

u8 e_wb_class::checkNormalRideMode() const {
    return field_0x690 != 0x66 || field_0x5b4 < 1;
}

void e_wb_class::setRunRideMode() {
    if (field_0x690 == 0x65) {
        field_0x5b4 = 0;
        field_0x690 = 0x15;
        field_0x692 = 0x65;
    }
}

daTagHstop_c* daTagHstop_c::m_top;
